@namespace Tasker.Dashboard
@inherits LayoutComponentBase

<AntDesign.ProLayout.BasicLayout
    Logo="@("https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg")"
    MenuData="_menuData">
    <HeaderContentRender>
        <Space Size="@("24")">
            <SpaceItem>
                <Icon Class="action" Type="@(collapsed ? "menu-unfold" : "menu-fold")" OnClick="@Toggle"/>
            </SpaceItem>
            <SpaceItem>
                <Icon Class="action" Type="reload" Theme="outline"/>
            </SpaceItem>
        </Space>
    </HeaderContentRender>
    <RightContentRender>
        <Space Class="" Size="@("24")">
            <SpaceItem>
                <AvatarDropdown Name="Guilherme Martin" Avatar="https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png" MenuItems="@AvatarMenuItems"/>
            </SpaceItem>
        </Space>
    </RightContentRender>
    <ChildContent>
        @Body
    </ChildContent>
</AntDesign.ProLayout.BasicLayout>
<SettingDrawer/>

@code
{
    bool collapsed = false;

    public AvatarMenuItem[] AvatarMenuItems { get; set; } = new AvatarMenuItem[]
    {
        new() { Key = "center", IconType = "user", Option = "Profile" },
        new() { Key = "setting", IconType = "setting", Option = "Configuration" },
        new() { IsDivider = true },
        new() { Key = "logout", IconType = "logout", Option = "Logout" }
    };

    private readonly MenuDataItem[] _menuData =
    {
        new MenuDataItem
        {
            Path = "/",
            Name = "Dashboard",
            Key = "dashboard",
            Icon = "dashboard",
        },
        new MenuDataItem()
        {
            Path = "/jobs",
            Name = "Jobs",
            Key = "jobs",
            Icon = "table",
        }
    };

    public LinkItem[] Links { get; set; } =
    {
        new LinkItem
        {
            Key = "Ant Design Blazor",
            Title = "Ant Design Blazor",
            Href = "https://antblazor.com",
            BlankTarget = true,
        },
        new LinkItem
        {
            Key = "github",
            Title = (RenderFragment)(@<Icon Type="github"/>),
            Href = "https://github.com/ant-design-blazor/ant-design-pro-blazor",
            BlankTarget = true,
        },
        new LinkItem
        {
            Key = "Blazor",
            Title = "Blazor",
            Href = "https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor?WT.mc_id=DT-MVP-5003987",
            BlankTarget = true,
        }
    };

    void Toggle()
    {
        collapsed = !collapsed;
    }
}